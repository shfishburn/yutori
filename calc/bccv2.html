<!--
  File Name: index.html
  Description: Main HTML file for the Body Composition Calculator demo. It contains the introduction,
               progressive onboarding flow (Steps 1‚Äì4), and header with measurement path options and a Restart Demo button.
  Change Control:
    - Version 1.0: Initial creation.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Body Composition Calculator Demo</title>
  <link rel="stylesheet" href="../assets/styles.css" />
  <!-- Include Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Sticky header with measurement path selection and Restart Demo button -->
  <header id="header">
    <div id="measurement-path">
      <span class="path-option selected" data-path="quick">‚ú® Quick Start (30 seconds)</span>
      <span class="path-option" data-path="enhanced">üìä Enhanced (5 minutes)</span>
      <span class="path-option" data-path="professional">üéØ Professional (DEXA scan)</span>
    </div>
    <button id="restart-demo">Restart Demo</button>
    <!-- Progress bar container -->
    <div id="progress-container">
      <div id="progress-bar"></div>
      <span id="progress-text">0% complete</span>
    </div>
  </header>

  <!-- Main content container -->
  <main id="main-container">
    <!-- Introduction Section -->
    <section id="intro-section" class="section">
      <h1>Welcome to Your Body Composition Calculator</h1>
      <p>
        To get started, you need two key measurements: your total weight and your body fat percentage.
        There are several ways to get these numbers:
      </p>
      <h2>Measurement Methods</h2>
      <ul>
        <li>
          <strong>DEXA Scan:</strong>
          <br>Preparation: Schedule an appointment at a certified facility and follow pre‚Äëscan instructions.
          <br>Measuring: Undergo the scan using low‚Äëlevel X‚Äërays.
          <br>Output: Very precise (¬±1‚Äì2% accuracy).
          <br>Reference: Search ‚ÄúDEXA scan near me‚Äù or check Healthline.
        </li>
        <li>
          <strong>Body Composition Scale (Bioimpedance):</strong>
          <br>Preparation: Use the scale in the morning before eating and keep hydration consistent.
          <br>Measuring: Stand barefoot on the scale.
          <br>Output: Estimated body fat and weight (¬±3‚Äì5% accuracy).
          <br>Reference: Look up Withings Body+ or Omron monitors.
        </li>
        <li>
          <strong>Tape Measure (US Navy Method):</strong>
          <br>Preparation: Get a flexible tape measure and check an online guide.
          <br>Measuring: Measure your neck, waist, and hips.
          <br>Output: Estimated body fat percentage (¬±5‚Äì7% accuracy).
          <br>Reference: Use an online US Navy Body Fat Calculator.
        </li>
        <li>
          <strong>3D Scan App:</strong>
          <br>Preparation: Download a 3D measurement app (e.g., ‚ÄúBVI Pro‚Äù) and stand in a well‚Äëlit area.
          <br>Measuring: Follow in‚Äëapp instructions.
          <br>Output: Estimated body fat percentage (¬±5‚Äì7% accuracy).
          <br>Reference: Check app store reviews and tutorials.
        </li>
      </ul>
      <p>
        Choose the method you have or prefer from the header above. For this demo, the information is static.
      </p>
      <button id="start-demo">Get Started</button>
    </section>

    <!-- Step 1: Health Goal & Baseline Profile -->
    <section id="step1" class="section hidden">
      <h2>Step 1: Health Goal & Baseline Profile</h2>
      <div class="step-content">
        <!-- Primary Health Goal Selection -->
        <div class="input-group">
          <label for="health-goal">Select Your Primary Health Goal:</label>
          <div id="health-goal-options">
            <button class="goal-btn" data-goal="Achieve">Achieve a Healthy Weight</button>
            <button class="goal-btn" data-goal="Maintain">Maintain Your Vitality</button>
            <button class="goal-btn" data-goal="Build">Build Lean, Healthy Muscle</button>
          </div>
        </div>
        <!-- Baseline Data Inputs -->
        <div class="input-group">
          <label for="total-weight">Total Weight (lbs):</label>
          <input type="number" id="total-weight" placeholder="e.g., 210">
        </div>
        <div class="input-group">
          <label for="body-fat">Body Fat Percentage (%):</label>
          <input type="number" id="body-fat" placeholder="e.g., 25">
          <!-- Visual estimation guide can be added as a side-panel or tooltip -->
          <small>Use the side guide for a visual estimate.</small>
        </div>
        <div class="input-group">
          <label for="age">Age:</label>
          <input type="number" id="age" placeholder="e.g., 30">
        </div>
        <div class="input-group">
          <label for="gender">Gender:</label>
          <select id="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>
        <!-- 30‚Äësecond Body Type Quiz -->
        <div class="quiz-group">
          <p><strong>Body Type Quiz:</strong> Answer the questions below:</p>
          <div class="quiz-question">
            <p>Where do you notice weight changes first?</p>
            <button class="quiz-answer" data-value="0.05">Midsection</button>
            <button class="quiz-answer" data-value="0">Even</button>
            <button class="quiz-answer" data-value="-0.05">Lower Body</button>
          </div>
          <div class="quiz-question">
            <p>How would you describe your natural build?</p>
            <button class="quiz-answer" data-value="0.1">Athletic</button>
            <button class="quiz-answer" data-value="0">Balanced</button>
            <button class="quiz-answer" data-value="-0.05">Softer</button>
          </div>
        </div>
        <!-- Display current measurement path and confidence indicator -->
        <p id="accuracy-indicator">Current Accuracy: Basic Accuracy (¬±10%)</p>
        <!-- Upgrade Accuracy Button -->
        <button id="upgrade-accuracy">Upgrade Accuracy</button>
        <!-- Next button -->
        <button id="to-step2" class="next-btn">Next</button>
      </div>
    </section>

    <!-- Step 2: Lifestyle, Calorie Deficit & Dietary Preferences -->
    <section id="step2" class="section hidden">
      <h2>Step 2: Lifestyle, Calorie Deficit & Dietary Preferences</h2>
      <div class="step-content">
        <!-- Summary of Step 1 (for demo purposes, static text) -->
        <p><strong>Step 1 Summary:</strong> [Placeholder summary of your baseline profile]</p>
        <!-- Lifestyle Inputs -->
        <div class="input-group">
          <label for="activity-level">Activity Level (1.2‚Äì1.9):</label>
          <input type="number" step="0.1" id="activity-level" value="1.5">
        </div>
        <div class="input-group">
          <label for="calorie-deficit">Calorie Deficit (e.g., ‚Äì500):</label>
          <input type="number" id="calorie-deficit" value="-500">
          <small>Ensure the deficit does not exceed safety bounds.</small>
        </div>
        <div class="input-group">
          <label for="dietary-approach">Dietary Approach:</label>
          <select id="dietary-approach">
            <option value="low-carb">Low‚ÄëCarb</option>
            <option value="high-protein">High‚ÄëProtein</option>
            <option value="balanced">Balanced</option>
          </select>
        </div>
        <!-- Interactive Pie Chart for Body Composition -->
        <canvas id="pieChart" width="300" height="300"></canvas>
        <!-- Quick Win Messaging -->
        <div class="quick-win">
          <h3>Your First Week Victories</h3>
          <p>Preview: Water weight drop, morning energy boost, and looser waistband.</p>
        </div>
        <!-- Update progress bar text (33% complete) will be handled in JS -->
        <button id="to-step3" class="next-btn">Next</button>
      </div>
    </section>

    <!-- Step 3: Confirmation & Calculation -->
    <section id="step3" class="section hidden">
      <h2>Step 3: Confirmation & Calculation</h2>
      <div class="step-content">
        <!-- Consolidated, non‚Äëeditable summary of Steps 1 and 2 -->
        <p><strong>Review your inputs:</strong></p>
        <div id="summary">
          <!-- Placeholder summary details; these will be set by JS -->
          <p>[Health goal, baseline data, and lifestyle preferences]</p>
        </div>
        <!-- Calculate button -->
        <button id="calculate-btn">Calculate</button>
        <!-- Spinner (hidden by default) -->
        <div id="spinner" class="hidden">
          <p>Please hold on‚Äîour AI Health Concierge is calculating your optimal, personalized plan.</p>
        </div>
      </div>
    </section>

    <!-- Step 4: Results & Actionable Insights -->
    <section id="step4" class="section hidden">
      <h2>Step 4: Results & Actionable Insights</h2>
      <div class="step-content">
        <!-- Detailed Results Dashboard -->
        <div id="results">
          <h3>Your Results</h3>
          <p><strong>Recap of your inputs:</strong> [Placeholder summary]</p>
          <p><strong>Calculated Metrics:</strong></p>
          <ul>
            <li>BMR: <span id="result-bmr">1400</span> calories</li>
            <li>TDEE: <span id="result-tdee">2100</span> calories</li>
            <li>Final Calorie Target: <span id="result-calorie-target">1600</span> calories</li>
            <li>Macro Recommendations: [Placeholder breakdown per meal]</li>
            <li>Estimated Timeline: [Placeholder timeline]</li>
          </ul>
          <p><strong>Confidence Indicator:</strong> Medium (¬±10%)</p>
        </div>
        <!-- Quick Win Section -->
        <div class="quick-win">
          <h3>Your First Week Victories</h3>
          <p>Quick wins: [Placeholder quick win metrics]</p>
        </div>
        <!-- Interactive what-if scenario slider (for demo, non‚Äëfunctional placeholder) -->
        <div class="input-group">
          <label for="whatif-slider">Adjust your goal (what‚Äëif scenario):</label>
          <input type="range" id="whatif-slider" min="0" max="100" value="50">
        </div>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
